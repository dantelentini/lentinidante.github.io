<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dante Lentini</title>
  <link rel="canonical" href="https://dante.co/">
  <meta name="description" content="Dante Lentini â€” Growth & GTM engineering at Founders, Inc (ex-Buildspace, Hyper).">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.gstatic.com; img-src 'self' data: https:; font-src 'self' https://fonts.gstatic.com; connect-src 'self'; media-src 'self';">
  <meta name="theme-color" content="#0064E6">
  <meta name="robots" content="index, follow">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="icon" href="/favicon.ico">

  <!-- Structured data: ProfilePage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ProfilePage",
    "inLanguage": "en",
    "dateModified": "2024-12-19T00:00:00Z",
    "mainEntity": {
      "@type": "Person",
      "@id": "https://dante.co/#dante",
      "name": "Dante Lentini",
      "alternateName": "lentinidante",
      "url": "https://dante.co/",
      "description": "Growth & GTM engineering at Founders, Inc (ex-Buildspace, Hyper).",
      "jobTitle": "Growth and GTM Engineering",
      "worksFor": { "@type": "Organization", "name": "Founders, Inc", "url": "https://f.inc/" },
      "homeLocation": { "@type": "Place", "name": "San Francisco, CA, USA" },
      "alumniOf": { "@type": "CollegeOrUniversity", "name": "New York University", "url": "https://www.nyu.edu/" },
      "email": "mailto:dantelentinics@gmail.com",
      "sameAs": [
        "https://x.com/lentinidante",
        "https://www.linkedin.com/in/lentinidante",
        "https://github.com/lentinidante"
      ]
    }
  }
  </script>
  <!-- /Structured data -->
</head>
<body>
  <div class="container">
    <h1 class="name">Hi,</h1>

    <p class="interest-line">I like to
      <button class="interest-trigger" data-interest="read" type="button">read</button>,
      <button class="interest-trigger" data-interest="write" type="button">write</button>,
      and
      <button class="interest-trigger" data-interest="listen" data-toggle="true" type="button">listen</button>.
    </p>
    <p>I'm a Growth Hacker. In my past, I</p>
    <p>dropped out, made <a href="https://www.tiktok.com/@thesitesupply" target="_blank" rel="noopener noreferrer" class="link-plain-white">tiktoks</a>, and joined</p>
    </p><a href="https://www.ycombinator.com/companies/hyper" target="_blank" rel="noopener noreferrer" class="link-plain-white">a startup</a>, but now I'm at <a href="https://f.inc" target="_blank" rel="noopener noreferrer" class="company"><strong>Founders, Inc</strong></a>.</p>
    <div id="sign">
      <p>Best,</p>

      <aside id="signature">
        <a href="https://x.com/intent/follow?screen_name=lentinidante" target="_blank" rel="noopener noreferrer">Dante Lentini</a>
      </aside>
    </div>

    <div class="desc">
    </div>

    <!-- Social links -->
    <nav class="social">
      <ul>
        <li><a class="social-link" href="mailto:dantelentinics@gmail.com" target="_blank" rel="noopener noreferrer">Email</a></li>
        <li><a class="social-link" href="https://www.linkedin.com/in/lentinidante" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
        <li><a class="social-link" href="https://x.com/intent/follow?screen_name=lentinidante" target="_blank" rel="noopener noreferrer">X</a></li>
        <li><a class="social-link" href="/momsaidhavefun.pdf" target="_blank" rel="noopener noreferrer">&lt;3</a></li>
        <li><a id="modeToggle" class="social-link" href="#">dark-mode.exe</a></li>
      </ul>
    </nav>
    <!-- /Social links -->
  </div>

  <div class="floating-layer" aria-hidden="true">
    <div class="floating-cluster" data-interest="read">
      <span class="floating-item book" style="--x: 15%; --y: 15%; --rotation: -7deg; --image: url('/assets/images/books/blue_ocean.jpg');"></span>
      <span class="floating-item book" style="--x: 85%; --y: 15%; --rotation: 4deg; --image: url('/assets/images/books/build.jpg');"></span>
      <span class="floating-item book" style="--x: 85%; --y: 85%; --rotation: -3deg; --image: url('/assets/images/books/founding_sales.jpg');"></span>
      <span class="floating-item book" style="--x: 15%; --y: 85%; --rotation: 9deg; --image: url('/assets/images/books/lean_startup.jpg');"></span>
      <span class="floating-item book" style="--x: 5%; --y: 50%; --rotation: 2deg; --image: url('/assets/images/books/read_write_own.jpg');"></span>
      <span class="floating-item book" style="--x: 95%; --y: 50%; --rotation: -5deg; --image: url('/assets/images/books/the_cold_start.jpg');"></span>
      <span class="floating-item book" style="--x: 50%; --y: 5%; --rotation: 8deg; --image: url('/assets/images/books/the_courage.jpg');"></span>
      <span class="floating-item book" style="--x: 50%; --y: 95%; --rotation: -6deg; --image: url('/assets/images/books/total_freedom.jpg');"></span>
    </div>

    <div class="floating-cluster" data-interest="write">
      <span class="floating-item paper" style="--x: 25%; --y: 25%; --rotation: 11deg;"></span>
      <span class="floating-item paper" style="--x: 75%; --y: 25%; --rotation: -8deg;"></span>
      <span class="floating-item paper" style="--x: 75%; --y: 75%; --rotation: 6deg;"></span>
      <span class="floating-item paper" style="--x: 25%; --y: 75%; --rotation: -12deg;"></span>
      <span class="floating-item paper" style="--x: 10%; --y: 50%; --rotation: -5deg;"></span>
      <span class="floating-item paper" style="--x: 90%; --y: 50%; --rotation: 8deg;"></span>
      <span class="floating-item paper" style="--x: 50%; --y: 10%; --rotation: -9deg;"></span>
      <span class="floating-item paper" style="--x: 50%; --y: 90%; --rotation: 5deg;"></span>
    </div>

    <div class="floating-cluster" data-interest="listen">
      <span class="floating-item album clickable-album" data-track="track-01" style="--x: 20%; --y: 20%; --rotation: -4deg; --image: url('/assets/images/albums/album-01.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-02" style="--x: 80%; --y: 20%; --rotation: 7deg; --image: url('/assets/images/albums/album-02.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-03" style="--x: 80%; --y: 80%; --rotation: -9deg; --image: url('/assets/images/albums/album-03.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-04" style="--x: 20%; --y: 80%; --rotation: 5deg; --image: url('/assets/images/albums/album-04.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-05" style="--x: 8%; --y: 50%; --rotation: 9deg; --image: url('/assets/images/albums/album-05.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-06" style="--x: 92%; --y: 50%; --rotation: -6deg; --image: url('/assets/images/albums/album-06.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-07" style="--x: 50%; --y: 8%; --rotation: 3deg; --image: url('/assets/images/albums/album-07.jpg');"></span>
      <span class="floating-item album clickable-album" data-track="track-08" style="--x: 50%; --y: 92%; --rotation: -10deg; --image: url('/assets/images/albums/album-08.jpg');"></span>
    </div>
  </div>

  <!-- Audio elements for dark mode and album tracks -->
  <audio id="nightSound" src="/assets/audio/dark-mode.mp3" preload="auto"></audio>
  <audio id="track-01" src="/assets/audio/track-01.mp3" preload="auto"></audio>
  <audio id="track-02" src="/assets/audio/track-02.mp3" preload="auto"></audio>
  <audio id="track-03" src="/assets/audio/track-03.mp3" preload="auto"></audio>
  <audio id="track-04" src="/assets/audio/track-04.mp3" preload="auto"></audio>
  <audio id="track-05" src="/assets/audio/track-05.mp3" preload="auto"></audio>
  <audio id="track-06" src="/assets/audio/track-06.mp3" preload="auto"></audio>
  <audio id="track-07" src="/assets/audio/track-07.mp3" preload="auto"></audio>
  <audio id="track-08" src="/assets/audio/track-08.mp3" preload="auto"></audio>

  <canvas id="starCanvas"></canvas>

  <script>
    /**
     * Interactive Portfolio Website
     * Features: Beat detection, dark mode with starfield, floating interactive elements
     */
    
    function setActiveInterestAttribute(interest) {
      if (interest) {
        document.body.setAttribute('data-active-interest', interest);
      } else {
        document.body.removeAttribute('data-active-interest');
      }
    }

    // Interactive interests flyouts - PURE CSS HOVER, ONLY JS FOR PINNING
    (function() {
      var triggers = document.querySelectorAll('.interest-trigger');
      if (!triggers.length) { return; }

      triggers.forEach(function(trigger) {
        var interest = trigger.getAttribute('data-interest');
        if (!interest) { return; }

        // Click toggles pinned state only
        trigger.addEventListener('click', function(e) {
          // Ignore clicks during dark mode beat switching
          if (isAutoSwitching) return;
          
          e.stopPropagation();
          
          var isPinned = trigger.classList.contains('pinned');
          
          if (isPinned) {
            // Unpin this button
            trigger.classList.remove('pinned');
            setActiveInterestAttribute(null);
          } else {
            // Unpin all other buttons and pin this one
            document.querySelectorAll('.interest-trigger').forEach(function(btn){
              btn.classList.remove('pinned');
            });
            trigger.classList.add('pinned');
            setActiveInterestAttribute(interest);
          }
        });
      });

      // Escape key unpins all buttons
      document.addEventListener('keydown', function(event) {
        // Ignore escape during dark mode beat switching
        if (isAutoSwitching) return;

        if (event.key === 'Escape') {
          document.querySelectorAll('.interest-trigger').forEach(function(btn){
            btn.classList.remove('pinned');
          });
          setActiveInterestAttribute(null);
        }
      });

      // Click outside buttons to unpin (handle both click and touch)
      function handleOutsideInteraction(event) {
        // Ignore during dark mode beat switching
        if (isAutoSwitching) return;

        // Check if click/touch is NOT on an interest button
        var clickedButton = event.target.closest('.interest-trigger');
        if (!clickedButton) {
          // Allow interactions inside floating clusters without unpinning
          if (event.target.closest('.floating-layer')) {
            return;
          }

          // Clicked/touched outside - unpin all buttons
          document.querySelectorAll('.interest-trigger').forEach(function(btn){
            btn.classList.remove('pinned');
          });
          setActiveInterestAttribute(null);
        }
      }
      
      document.addEventListener('click', handleOutsideInteraction);
      document.addEventListener('touchstart', handleOutsideInteraction);
    })();

    // Global function to control interest display for beat switching
    var globalClusters = {};
    document.querySelectorAll('.floating-cluster').forEach(function(cluster) {
      var interest = cluster.getAttribute('data-interest');
      if (interest) { globalClusters[interest] = cluster; }
    });

    function applyInterestGlobal(interest) {
      // Update button visual states by adding/removing pinned and beat-active classes
      document.querySelectorAll('.interest-trigger').forEach(function(button) {
        var buttonInterest = button.getAttribute('data-interest');
        if (interest && buttonInterest === interest) {
          button.classList.add('pinned', 'beat-active');
        } else {
          button.classList.remove('pinned', 'beat-active');
        }
      });

      setActiveInterestAttribute(interest);
    }

    // Dark mode toggle with audio and starfield animation
    var toggleTimeout; // delay handle for theme switch
    var starTimeout; // delay handle for stars
    var isAutoSwitching = false;

    // Starfield animation setup
    var starCanvas = document.getElementById('starCanvas');
    var ctx = starCanvas.getContext('2d');

    // Resize canvas for device pixel ratio
    function resizeCanvas() {
      var ratio = window.devicePixelRatio || 1;
      starCanvas.width = window.innerWidth * ratio;
      starCanvas.height = window.innerHeight * ratio;
      starCanvas.style.width = window.innerWidth + 'px';
      starCanvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(1,0,0,1,0,0); // reset transform before scaling
      ctx.scale(ratio, ratio);
    }
    window.addEventListener('resize', resizeCanvas);
    window.addEventListener('orientationchange', resizeCanvas);
    resizeCanvas();

    var stars = [], shootingStars = []; // star collections

    // Static star model
    function Star(x, y, radius) {
      this.x = x; this.y = y; this.radius = radius;
      this.alpha = Math.random(); this.alphaChange = Math.random() * 0.05;
      this.draw = function() { ctx.save(); ctx.globalAlpha = this.alpha; ctx.beginPath(); ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2); ctx.fillStyle = '#fff'; ctx.fill(); ctx.restore(); };
      this.update = function() { this.alpha += this.alphaChange; if (this.alpha <= 0.1 || this.alpha >= 1) this.alphaChange = -this.alphaChange; };
    }

    // Moving star model
    function ShootingStar() {
      this.x = Math.random() * starCanvas.width; this.y = 0;
      this.length = Math.random() * 80 + 10; this.speed = Math.random() * 10 + 6; this.alpha = 1;
      this.draw = function() { ctx.save(); ctx.globalAlpha = this.alpha; ctx.beginPath(); ctx.moveTo(this.x, this.y); ctx.lineTo(this.x + this.length, this.y + this.length); ctx.strokeStyle = '#fff'; ctx.lineWidth = 2; ctx.stroke(); ctx.restore(); };
      this.update = function() { this.x += this.speed; this.y += this.speed; this.alpha -= 0.01; if (this.alpha <= 0) this.reset(); };
      this.reset = function() { this.x = Math.random() * starCanvas.width; this.y = 0; this.length = Math.random() * 80 + 10; this.speed = Math.random() * 10 + 6; this.alpha = 1; };
    }

    // Populate star arrays
    function createStars(count) {
      for (var i = 0; i < count; i++) { stars.push(new Star(Math.random()*starCanvas.width, Math.random()*starCanvas.height, Math.random()*1 + 1)); }
    }
    function createShootingStars(count) {
      for (var i = 0; i < count; i++) { shootingStars.push(new ShootingStar()); }
    }

    // Render loop
    function animate() {
      ctx.clearRect(0, 0, starCanvas.width, starCanvas.height);
      stars.forEach(function(s){ s.update(); s.draw(); });
      shootingStars.forEach(function(s){ s.update(); s.draw(); });
      requestAnimationFrame(animate);
    }

    // Combined dark mode + starfield toggle
    document.getElementById('modeToggle').addEventListener('click', function(event) {
      event.preventDefault();

      var audio = document.getElementById('nightSound');
      
      if (!document.body.classList.contains('dark-mode') && !toggleTimeout) {
        // Starting dark mode
        audio.play();
        
        // Start beat detection immediately with dark mode audio
        if (window.startDarkModeBeats) {
          window.startDarkModeBeats(audio);
        }
        
        toggleTimeout = setTimeout(function() {
          document.body.classList.add('dark-mode');
          toggleTimeout = null;
        }, 6300);
        
        // Start starfield animation
        starTimeout = setTimeout(function(){ 
          createStars(100); 
          createShootingStars(2); 
          animate(); 
        }, 6300);
      } else {
        // Stopping dark mode
        if (document.body.classList.contains('dark-mode')) {
          document.body.classList.remove('dark-mode');
        }
        
        
        clearTimeout(toggleTimeout);
        toggleTimeout = null;
        audio.pause(); 
        audio.currentTime = 0;
        
        // Stop beat detection when dark mode ends
        if (window.stopDarkModeBeats) {
          window.stopDarkModeBeats();
        }
        
        // Stop starfield animation
        if (starTimeout) {
          clearTimeout(starTimeout);
          starTimeout = null;
        }
        ctx.clearRect(0, 0, starCanvas.width, starCanvas.height);
        stars = [];
        shootingStars = [];
      }
    });

    // Album track audio functionality (beat detection only works during dark mode)
    (function() {
      var albumCovers = document.querySelectorAll('.clickable-album');
      var currentlyPlaying = null;
      var audioContext = null;
      var analyser = null;
      var beatDetectionInterval = null;
      var lastBeatTime = 0;
      var beatThreshold = 140; // Lower threshold for more sensitivity
      var audioSources = {}; // Track sources per audio element
      var currentAudioElement = null;
      // Beautiful solid blue colors
      var gradientSets = [
        // Set 1: Deep Ocean
        {
          'listen': '#3b82f6',
          'write': '#0ea5e9',
          'read': '#60a5fa'
        },
        // Set 2: Electric Blue
        {
          'listen': '#2563eb',
          'write': '#0284c7',
          'read': '#38bdf8'
        },
        // Set 3: Azure Sky
        {
          'listen': '#0ea5e9',
          'write': '#3b82f6',
          'read': '#7dd3fc'
        },
        // Set 4: Midnight Blue
        {
          'listen': '#6366f1',
          'write': '#06b6d4',
          'read': '#818cf8'
        }
      ];
      var currentGradientSet = 0;
      var buttonColors = gradientSets[0];
      var lastColorChange = 0;
      
      if (!albumCovers.length) { return; }
      
      // Initialize audio context immediately
      try {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        if (audioContext.state === 'suspended') {
          // Resume on any user interaction
          var resumeAudioContext = function() {
            if (audioContext.state === 'suspended') {
              audioContext.resume();
            }
          };
          document.addEventListener('click', resumeAudioContext, { once: true });
          document.addEventListener('touchstart', resumeAudioContext, { once: true });
          document.addEventListener('keydown', resumeAudioContext, { once: true });
        }
      } catch (e) {
        console.error('Audio context failed:', e);
      }
      
      // Beat detection functions
      function startBeatDetection(audioElement) {
        if (!audioContext || !audioElement) {
          return;
        }
        
        try {
          currentAudioElement = audioElement;
          
          // Create analyser if it doesn't exist
          if (!analyser) {
            analyser = audioContext.createAnalyser();
            analyser.fftSize = 1024; // Increased for better frequency resolution
            analyser.smoothingTimeConstant = 0.7;
          }
          
          // Connect audio source (only create once per audio element)
          var audioId = audioElement.id;
          if (!audioSources[audioId]) {
            try {
              var source = audioContext.createMediaElementSource(audioElement);
              source.connect(analyser);
              analyser.connect(audioContext.destination);
              audioSources[audioId] = source;
            } catch (e) {
              console.error('Failed to create audio source:', e);
              return;
            }
          }
          
          // Stop any existing detection
          stopBeatDetection();
          
          var bufferLength = analyser.frequencyBinCount;
          var dataArray = new Uint8Array(bufferLength);
          
          // Check for beats 60 times per second
          beatDetectionInterval = setInterval(function() {
            if (!currentAudioElement || currentAudioElement.paused) {
              return;
            }
            
            analyser.getByteFrequencyData(dataArray);
            
            var now = Date.now();
            
            // Calculate overall volume for adaptive threshold
            var totalVolume = 0;
            for (var i = 0; i < 100; i++) {
              totalVolume += dataArray[i];
            }
            totalVolume = totalVolume / 100;
            
            // Track volume history for adaptive threshold
            volumeHistory.push(totalVolume);
            if (volumeHistory.length > 60) { // Keep last 1 second of data
              volumeHistory.shift();
            }
            
            // Calculate average volume
            var avgVolume = volumeHistory.reduce(function(a, b) { return a + b; }, 0) / volumeHistory.length;
            
            // Adaptive multiplier - lower threshold for quieter songs
            if (avgVolume < 80) {
              adaptiveMultiplier = 0.6; // Much more sensitive for soft songs
            } else if (avgVolume < 120) {
              adaptiveMultiplier = 0.8;
            } else {
              adaptiveMultiplier = 1.0;
            }
            
            var adjustedThreshold = beatThreshold * adaptiveMultiplier;
            
            // Rotate gradient colors every 10 seconds for variety
            if (now - lastColorChange > 10000) {
              currentGradientSet = (currentGradientSet + 1) % gradientSets.length;
              buttonColors = gradientSets[currentGradientSet];
              lastColorChange = now;
            }
            
            // BASS frequencies (0-10) -> "listen" button (kicks, bass drops)
            var bass = 0;
            for (var i = 0; i < 10; i++) {
              bass += dataArray[i];
            }
            bass = bass / 10;
            
            // MID frequencies (15-40) -> "write" button (snares, guitars, vocals)
            var mid = 0;
            for (var i = 15; i < 40; i++) {
              mid += dataArray[i];
            }
            mid = mid / 25;
            
            // HIGH frequencies (50-80) -> "read" button (hi-hats, cymbals, synths)
            var high = 0;
            for (var i = 50; i < 80; i++) {
              high += dataArray[i];
            }
            high = high / 30;
            
            // Flash individual buttons based on their frequency ranges with adaptive thresholds
            // Listen (bass) - less frequent, only strong hits
            if (bass > adjustedThreshold + 30) {
              flashButton('listen', buttonColors['listen']);
            }
            
            // Write (mid) - less frequent
            if (mid > adjustedThreshold + 35) {
              flashButton('write', buttonColors['write']);
            }
            
            // Read button - much higher threshold to reduce frequency
            if (high > adjustedThreshold + 50) {
              flashButton('read', buttonColors['read']);
            }
          }, 16); // ~60fps
          
        } catch (e) {
          console.error('Beat detection setup failed:', e);
        }
      }
      
      function stopBeatDetection() {
        if (beatDetectionInterval) {
          clearInterval(beatDetectionInterval);
          beatDetectionInterval = null;
        }
      }
      
      // Track last flash time per button to prevent rapid flashing
      var lastFlashTime = {
        'listen': 0,
        'write': 0,
        'read': 0
      };
      var flashCooldowns = {
        'listen': 280,  // Slower cooldown
        'write': 280,   // Slower cooldown
        'read': 350     // Much slower to reduce frequency
      };
      
      // Adaptive threshold based on overall volume
      var volumeHistory = [];
      var adaptiveMultiplier = 1.0;
      
      // Flash a specific button based on frequency
      function flashButton(interest, color) {
        var button = document.querySelector('.interest-trigger[data-interest="' + interest + '"]');
        if (!button) return;
        
        var now = Date.now();
        // Use individual cooldowns per button
        var cooldown = flashCooldowns[interest] || 180;
        if (now - lastFlashTime[interest] < cooldown) return;
        lastFlashTime[interest] = now;
        
        // Use different effects based on dark mode state
        if (document.body.classList.contains('dark-mode')) {
          // In dark mode: use blue color flash effect
          button.classList.add('beat-flash');
          button.style.setProperty('--flash-color', color);
          setTimeout(function() {
            button.classList.remove('beat-flash');
          }, 140);
        } else {
          // During delay: use standard hover effect for beat response
          button.classList.add('beat-hover');
          setTimeout(function() {
            button.classList.remove('beat-hover');
          }, 140);
        }
      }
      
      
      albumCovers.forEach(function(album) {
        album.addEventListener('click', function(event) {
          event.stopPropagation();
          
          var trackId = album.getAttribute('data-track');
          var audio = document.getElementById(trackId);
          
          if (!audio) { return; }
          
          // Stop dark mode audio if in dark mode
          var darkModeAudio = document.getElementById('nightSound');
          if (document.body.classList.contains('dark-mode') && darkModeAudio && !darkModeAudio.paused) {
            darkModeAudio.pause();
            darkModeAudio.currentTime = 0;
          }
          
          // Stop any currently playing track
          if (currentlyPlaying && currentlyPlaying !== audio) {
            currentlyPlaying.pause();
            currentlyPlaying.currentTime = 0;
            var previousAlbum = document.querySelector('.clickable-album[data-track="' + currentlyPlaying.id + '"]');
            if (previousAlbum) {
              previousAlbum.classList.remove('playing');
            }
          }
          
          // Toggle current track
          if (audio.paused) {
            var playPromise = audio.play();
            
            if (playPromise !== undefined) {
              playPromise.then(function() {
                album.classList.add('playing');
                currentlyPlaying = audio;
                // Don't start beat detection for regular album playback
              }).catch(function() {
                // Silently handle autoplay blocking - try again on next interaction
                audio.currentTime = 0;
              });
            } else {
              album.classList.add('playing');
              currentlyPlaying = audio;
            }
          } else {
            audio.pause();
            audio.currentTime = 0;
            album.classList.remove('playing');
            currentlyPlaying = null;
          }
        });
        
        // Add hover effects
        album.addEventListener('mouseenter', function() {
          if (!this.classList.contains('playing')) {
            this.classList.add('album-hover');
          }
        });
        
        album.addEventListener('mouseleave', function() {
          if (!this.classList.contains('playing')) {
            this.classList.remove('album-hover');
          }
        });
      });
      
      // Clean up when tracks end
      document.querySelectorAll('audio[id^="track-"]').forEach(function(audio) {
        audio.addEventListener('ended', function() {
          var album = document.querySelector('.clickable-album[data-track="' + this.id + '"]');
          if (album) {
            album.classList.remove('playing');
          }
          if (currentlyPlaying === this) {
            currentlyPlaying = null;
          }
        });
      });
      
      // Expose function to start beat detection ONLY for dark mode audio
      window.startDarkModeBeats = function(audioElement) {
        if (audioElement && !audioElement.paused) {
          startBeatDetection(audioElement);
        }
      };
      
      // Expose function to stop beat detection
      window.stopDarkModeBeats = function() {
        stopBeatDetection();
      };
      
      // Also stop beat detection when dark mode audio ends
      var darkModeAudio = document.getElementById('nightSound');
      if (darkModeAudio) {
        darkModeAudio.addEventListener('ended', function() {
          stopBeatDetection();
        });
      }
    })();
  </script>
</body>
</html>
